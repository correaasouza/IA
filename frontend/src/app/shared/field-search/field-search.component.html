<div
  class="filter-bar grid items-center gap-2 max-[900px]:grid-cols-1"
  [class.grid-cols-[1.4fr_1fr_auto]]="showActions"
  [class.grid-cols-[1.4fr_1fr]]="!showActions">
  <mat-form-field appearance="outline" subscriptSizing="dynamic" class="term min-w-0">
    <mat-label>{{ label }}</mat-label>
    <input
      matInput
      [formControl]="termControl"
      [placeholder]="placeholder"
      aria-label="Texto da busca" />
  </mat-form-field>

  <mat-form-field appearance="outline" subscriptSizing="dynamic" class="fields min-w-0">
    <mat-label>Campos</mat-label>
    <mat-select [formControl]="fieldsControl" multiple aria-label="Campos da busca">
      <mat-option *ngFor="let opt of options" [value]="opt.key">{{ opt.label }}</mat-option>
    </mat-select>
  </mat-form-field>

  <div class="flex w-full flex-wrap items-center gap-1.5" *ngIf="showActions">
    <button class="min-w-24" mat-stroked-button type="button" (click)="clear()" aria-label="Limpar busca">
      <mat-icon>close</mat-icon>
      Limpar
    </button>
    <button class="min-w-24" mat-flat-button color="primary" type="button" (click)="apply()" aria-label="Aplicar busca">
      <mat-icon>search</mat-icon>
      {{ actionLabel }}
    </button>
  </div>
</div>
